<header class="header">
  <div class="header__logo">
    <a routerLink="home">
      <h1>RehabAI</h1>
    </a>
  </div>

  <nav class="header__nav" [class.is-active]="menuAbierto">
    <button
      class="header__nav-close"
      (click)="toggleMenu()"
      aria-label="Cerrar menú"
    >
      &times;
    </button>
    <a
      routerLink="home"
      routerLinkActive="active-link"
      [routerLinkActiveOptions]="{ exact: true }"
      (click)="cerrarMenuSiEsMovil()"
      >Inicio</a
    >
    <a
      routerLink="ias"
      routerLinkActive="active-link"
      (click)="cerrarMenuSiEsMovil()"
      >Tipos de IA</a
    >
    <a
      routerLink="sobreMi"
      routerLinkActive="active-link"
      (click)="cerrarMenuSiEsMovil()"
      >Sobre mí</a
    >
    <a
      routerLink="gestionUser"
      routerLinkActive="active-link"
      (click)="cerrarMenuSiEsMovil()"
      >Gestión de usuario</a
    >
    <div
      class="header__actions header__actions--mobile"
      *ngIf="(user | async) === null; else loggedInMobile"
    >
      <a
        class="button button-primary"
        routerLink="login"
        (click)="cerrarMenuSiEsMovil()"
        >Iniciar sesión</a
      >
    </div>
    <ng-template #loggedInMobile>
      <div class="header__actions header__actions--mobile">
        <button
          class="button button-secondary"
          (click)="logout(); cerrarMenuSiEsMovil()"
        >
          Cerrar sesión
        </button>
      </div>
    </ng-template>
  </nav>

  <div
    class="header__actions header__actions--desktop"
    *ngIf="(user | async) === null; else loggedInDesktop"
  >
    <a class="button button-gradient-login" routerLink="login">
      <span>Iniciar sesión</span>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 24 24"
        width="18"
        height="18"
        fill="currentColor"
        aria-hidden="true"
      >
        <path
          d="M11 7L9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5-5-5zm9 12h-8v-2h8v2z"
        />
      </svg>
    </a>
  </div>
  <ng-template #loggedInDesktop>
    <div class="header__actions header__actions--desktop">
      <button class="button button-secondary" (click)="logout()">
        Cerrar sesión
      </button>
    </div>
  </ng-template>

  <button
    class="header__menu-toggle"
    (click)="toggleMenu()"
    aria-label="Abrir menú"
    [attr.aria-expanded]="menuAbierto"
  >
    <span></span>
    <span></span>
    <span></span>
  </button>
</header>
